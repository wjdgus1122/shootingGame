<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css"/>
    <title>ShootingGame</title>
</head>
<body>
    <div class="wrap">
        <div class="bgWrap">
            <img class="bgImg" src="./img/bgImg.png">
            <div class="userWrap">
                <img src="./img/user.png" class="user"/>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    
    setInterval(()=>{
        const bgWrap = document.querySelector(".bgWrap")
        let starX = window.innerWidth * 0.6;
        let starY = Math.floor(Math.random() * (window.innerHeight - 50));
        let starSpeed = Math.floor(Math.random() * 3);
        let starDiv = document.createElement("img");

        starDiv.classList.add("star");
        starDiv.src = "./img/star.png"
        starDiv.style.top = starY + "px";
        starDiv.style.left = starX + "px";
        starDiv.style.animationDuration = starSpeed + "s";
        
        bgWrap.appendChild(starDiv)

        starDiv.addEventListener("animationend", () => starDiv.remove())
        
    },500)

    
    const user = document.querySelector(".userWrap");
    let userLeft = 0;
    window.addEventListener("keydown", function(e){
        let key = e.keyCode;
        let userTop = window.pageYOffset + user.getBoundingClientRect().top;
        if(key === 37)
            if(userLeft > 0){
                userLeft -= 5;
                user.style.left = (userLeft -5) + "px"
            }
        if(key === 39)
            if(userLeft < window.innerWidth * 0.7){
                userLeft += 5;
                user.style.left = (userLeft + 5)  + "px"
            }
        if(key === 38)
            if(userTop > 0){
                user.style.top = (userTop - 5) + "px"
            }
        if(key === 40)
            if(userTop < window.innerHeight - 50){
                user.style.top = (userTop + 5) + "px"
            }
    });



</script>